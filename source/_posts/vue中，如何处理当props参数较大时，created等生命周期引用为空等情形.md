---
title: vue中，如何处理当props参数较大时，created等生命周期引用为空等情形
date: 2019-01-15 10:44:51
tags: 'vue'
---

当子组件中接受的props是ajax异步获取时，想要在生命周期created，mounted等钩子，data选项获取ajax后的参数，可能获取不到

解决方案： 在watch中处理参数即可

此类问题再取后台参数渲染组件中比较常见

公司新版本有一个是点击表格上的某一列展开展示详情的需求，
参考了一下iView的写法，给组件库加上这一功能，很顺利，本地环境完全没问题，
好了，组件库打包，引入，子组件中的data深拷贝一个props参数没有成功，data的参数只是有初始化的值，并没有ajax后的值

各种尝试与分析：
一： data初始化值有问题，不过在本地的模拟数据却没有问题，应该不是data初始化的问题，既然是异步获取的props参数，可能是data初始化时，
获取的并不是ajax后的值
二： 既然data初始化不到，那么改为created中赋值，总可以了吧，结果还是不行

总结了以上情况以及查阅资料：
通过watch监听props改变，即可获取ajax后的props


通过以上案例，得出一个问题： 组件获取ajax后props参数的一些方法
1. 上述的watch
2. computed中